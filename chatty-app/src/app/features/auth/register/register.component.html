<app-auth-layout>
  <section class="auth-card">
    <div class="card-head">
      <div class="pill">Create account</div>
      <h1>Join Chatty today</h1>
      <p>Start collaborating and keep your conversations in one place.</p>
    </div>

    <div class="tabs">
      <button type="button" (click)="goLogin()">Login</button>
      <button class="active" type="button">Register</button>
    </div>

    <form (ngSubmit)="submit()" class="form" novalidate>
      <label>
        <span>Full name</span>
        <input
          type="text"
          name="name"
          placeholder="Enter your name"
          [(ngModel)]="name"
          required
          autocomplete="name"
        />
      </label>

      <label>
        <span>Email address</span>
        <input
          type="email"
          name="email"
          placeholder="Enter your email"
          [(ngModel)]="email"
          required
          autocomplete="email"
        />
      </label>

      <label>
        <span>Password</span>
        <div class="input-wrap">
          <input
            [type]="showPassword ? 'text' : 'password'"
            name="password"
            placeholder="Create a password"
            [(ngModel)]="password"
            required
            autocomplete="new-password"
          />
          <button type="button" class="icon-btn" (click)="togglePassword('main')" [attr.aria-pressed]="showPassword">
            <span class="material-symbols-outlined">
              {{ showPassword ? 'visibility_off' : 'visibility' }}
            </span>
          </button>
        </div>
      </label>

      <label>
        <span>Confirm password</span>
        <div class="input-wrap">
          <input
            [type]="showConfirm ? 'text' : 'password'"
            name="confirmPassword"
            placeholder="Re-enter your password"
            [(ngModel)]="confirmPassword"
            required
            autocomplete="new-password"
          />
          <button type="button" class="icon-btn" (click)="togglePassword('confirm')" [attr.aria-pressed]="showConfirm">
            <span class="material-symbols-outlined">
              {{ showConfirm ? 'visibility_off' : 'visibility' }}
            </span>
          </button>
        </div>
      </label>

      <p class="error" *ngIf="error">{{ error }}</p>

      <button type="submit" [disabled]="submitting">
        {{ submitting ? 'Creating account...' : 'Sign up' }}
      </button>
    </form>

    <p class="footer">
      Already have an account?
      <button type="button" class="link-btn" (click)="goLogin()">Log in</button>
    </p>
  </section>
</app-auth-layout>
